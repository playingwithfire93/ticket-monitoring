<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Calendario de musicales</title>
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="/static/style.css" />
  <style>
    body{font-family:system-ui,Arial;margin:12px;color:#222}
    #calendar-wrap{max-width:1000px;margin:0 auto}
    #filters{display:flex;gap:8px;align-items:center;margin-bottom:10px;flex-wrap:wrap}
    /* compact searchable multi-select */
    .multi-filter { position: relative; min-width:240px; }
    .mf-input { width:100%; padding:6px 8px; border-radius:6px; border:1px solid #ddd; background:white; }
    .mf-dropdown { position:absolute; top:110%; left:0; right:0; background:#fff; border:1px solid #e6e6e6; border-radius:6px; max-height:220px; overflow:auto; box-shadow:0 8px 24px rgba(0,0,0,0.08); z-index:9999; display:none; }
    .mf-item { padding:6px 10px; display:flex; align-items:center; gap:8px; cursor:pointer; }
    .mf-item input { pointer-events:auto; }
    .mf-item:hover { background:#f7f7fb; }
    .filter-btn{padding:6px 10px;border-radius:6px;border:1px solid #ddd;background:#fafafa;cursor:pointer;font-size:13px}
    #filter-count{margin-left:auto;color:#666;font-size:13px}
  </style>
</head>
<body>
  <main id="calendar-wrap">
    <h2>Calendario 2025–2026</h2>

    <div id="filters" aria-label="Filtros del calendario">
      <label for="musical-filter-input"><strong>Filtrar por musical:</strong></label>

      <div class="multi-filter" id="musical-multi">
        <input id="musical-filter-input" class="mf-input" placeholder="Escribe para buscar / Escoge (click flecha)" autocomplete="off" aria-haspopup="listbox" />
        <div id="musical-dropdown" class="mf-dropdown" role="listbox" aria-multiselectable="true"></div>
      </div>

      <button id="filter-all" class="filter-btn" title="Mostrar todos">Todos</button>
      <button id="filter-clear" class="filter-btn" title="Limpiar selección">Limpiar</button>
      <span id="filter-count" style="margin-left:auto;color:#666"></span>
    </div>

    <div id="calendar"></div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>
  <script src="/static/calendar.js"></script>
</body>
</html>